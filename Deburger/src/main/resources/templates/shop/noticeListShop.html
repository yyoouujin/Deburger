<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org/"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{common/layouts/shop_layout}" layout:fragment="Content">

<head>
<meta charset="UTF-8">
<title>공지사항</title>
</head>

<body>
	<main id="main" class="main">
		<div class="pagetitle">
			<h1>공지사항</h1>

			<nav class="navbar navbar-expand-lg bg-body-t00ertiary">
				<div class="container-fluid">

					<div class="collapse navbar-collapse" id="navbarSupportedContent">
						<ul class="navbar-nav me-auto mb-2 mb-lg-0">
							<li class="nav-item"><a class="nav-link active"
								aria-current="page" href="noticeListShop">전체</a></li>
							<li class="nav-item"><a class="nav-link active"
								aria-current="page" href="noticeListShopUpdate">업데이트</a></li>
							<li class="nav-item"><a class="nav-link active"
								aria-current="page" href="noticeListShopService">서비스</a></li>
							<li class="nav-item"><a class="nav-link active"
								aria-current="page" href="noticeListShopEvent">이벤트</a></li>
							<li class="nav-item"><a class="nav-link active"
								aria-current="page" href="noticeListShopWork">작업</a></li>
							<li class="nav-item"><a class="nav-link active"
								aria-current="page" href="noticeListShopAnnouncement">공고</a></li>
						</ul>


						<form class="d-flex" role="search">
							<input class="form-control me-3" type="search"
								placeholder="Search" aria-label="Search">
							<button class="btn btn-outline-success" type="submit">Search</button>
						</form>
						


					</div>
				</div>
			</nav>

		</div>
		<!-- End Page Title -->
		<section class="section">
			<div class="row">
				<div class="col-lg-12">



					<div class="card">
						<div class="card-body">
							<form method="POST" th:action="@{/noticeListShop}">
								<table class="table">
									<thead>
										<tr>
											<th><b>일련번호</b></th>
											<th>구분</th>
											<th>공지사항</th>
											<th>공고일</th>
										</tr>
									</thead>
									<tbody>
										<th:block th:each="lista:${viewAll}">
											<tr>
												<td th:text="${lista.noticeNumber}" />
												<td th:text="${lista.division}" />
												<td th:text="${lista.title}" />
												<td>
													[[${#dates.format(lista.writerDate,'yyyy-MM-dd')}]]</td>
											</tr>
											</th:block>
									</tbody>
								</table>
							</form>
							<!-- End Table with stripped rows -->
						</div>
					</div>
	<div style="display: block; text-align: center;">
											<nav aria-label="Page navigation">
						    <ul class="pagination justify-content-center">
						        <!-- Previous button -->
						        <li class="page-item" th:classappend="${paging.startPage == 1} ? 'disabled'">
						            <a class="page-link" th:href="@{/noticeListShop(nowPage=${paging.startPage - 1}, cntPerPage=${paging.cntPerPage})}" aria-disabled="true">&lt;</a>
						        </li>
						        <!-- Page numbers -->
						        <li class="page-item" th:each="p : ${#numbers.sequence(paging.startPage, paging.endPage)}" 
						            th:classappend="${p == paging.nowPage} ? 'active'">
						            <span th:if="${p == paging.nowPage}">
						                <a class="page-link" th:text="${p}"></a>
						            </span>
						            <span th:if="${p != paging.nowPage}">
						                <a class="page-link" th:href="@{/noticeListShop(nowPage=${p}, cntPerPage=${paging.cntPerPage})}" th:text="${p}"></a>
						            </span>
						        </li>
						        <!-- Next button -->
						        <li class="page-item" th:classappend="${paging.endPage == paging.lastPage} ? 'disabled'">
						            <a class="page-link" th:href="@{/noticeListShop(nowPage=${paging.endPage + 1}, cntPerPage=${paging.cntPerPage})}">&gt;</a>
						        </li>
						    </ul>
						</nav>
					    
					</div>
				</div>
			</div>
		</section>
		
	</main>
	<script>


		$('tbody > tr').on("click", function(event) {
			let num = $(event.currentTarget).children().eq(0).text();
			let url = 'noticeListInfoShop?noticeNumber=' + num;
			location.href = url;
		});
	</script>
</body>
</html>